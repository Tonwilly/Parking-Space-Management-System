<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Zenya PSMS — Sign Up</title>
    <link rel="stylesheet" >
    <style>
        /* Small page-specific tweaks */
        main {
            max-width: 680px;
            margin: 2.5rem auto;
            padding: 1rem
        }
        header{
            position: sticky;
            top: 0;
            background: #fff;
            z-index: 1000;
            box-shadow: 0 3px 10px rgba(16, 24, 40, 0.05);
        }
        .actions {
            display: flex;
            gap: 0.75rem;
            align-items: center;
            margin-top: 1rem
        }

        .muted {
            color: #666;
            font-size: .95rem
        }

        .msg {
            margin-top: .75rem;
            padding: .6rem;
            border-radius: 6px;
            display: none
        }

        .msg.success {
            background: #e6fff7;
            color: #0b6b58;
            border: 1px solid #c7f0df
        }

        .msg.error {
            background: #fff0f0;
            color: #7a1616;
            border: 1px solid #f2c6c6
        }
    </style>
</head>

<body>
    <header
        style="padding:1rem 1.25rem;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center">
        <h2 class="logo" style="margin:0;color:#2b7a78">Zenya PSMS</h2>
        <nav>
            <a href="index.html" style="margin-right:1rem;color:#666;text-decoration:none">Home</a>
            <a href="login.html" class="btnPrimary"
                style="background:#2b7a78;color:#fff;padding:.45rem .65rem;border-radius:6px;text-decoration:none">Login</a>
        </nav>
    </header>

    <main>
        <h1 style="margin-top:0">Create an account</h1>
        <p class="muted">Fill in the details to register. After signing up you'll be redirected to the login page.</p>

        <form id="signupForm" novalidate>
            <label style="display:block;margin-top:1rem">
                Full name
                <input id="name" name="name" type="text" required placeholder="Jane Doe"
                    style="width:100%;padding:.6rem;margin-top:.25rem;border:1px solid #ddd;border-radius:6px">
            </label>

            <label style="display:block;margin-top:1rem">
                Email
                <input id="email" name="email" type="email" required placeholder="you@example.com"
                    style="width:100%;padding:.6rem;margin-top:.25rem;border:1px solid #ddd;border-radius:6px">
            </label>

            <label style="display:block;margin-top:1rem">
                License plate number
                <input id="plate" name="plate" type="text" required placeholder="ABC-1234"
                    style="width:100%;padding:.6rem;margin-top:.25rem;border:1px solid #ddd;border-radius:6px">
            </label>

            <label style="display:block;margin-top:1rem">
                Phone
                <input id="phone" name="phone" type="tel" required placeholder="+2547xxxxxxxx"
                    style="width:100%;padding:.6rem;margin-top:.25rem;border:1px solid #ddd;border-radius:6px">
            </label>

            <label style="display:block;margin-top:1rem">
                Password
                <input id="password" name="password" type="password" required minlength="6"
                    placeholder="At least 6 characters"
                    style="width:100%;padding:.6rem;margin-top:.25rem;border:1px solid #ddd;border-radius:6px">
            </label>

            <label style="display:block;margin-top:1rem">
                Confirm password
                <input id="confirmPassword" name="confirmPassword" type="password" required minlength="6"
                    placeholder="Re-enter password"
                    style="width:100%;padding:.6rem;margin-top:.25rem;border:1px solid #ddd;border-radius:6px">
            </label>

            <div class="actions">
                <button id="submitBtn" type="submit" class="btnPrimary"
                    style="background:#2b7a78;color:#fff;padding:.6rem .9rem;border-radius:6px;border:0;cursor:pointer">Sign
                    up</button>
                <a href="login.html" style="color:#2b7a78;text-decoration:underline">Already have an account? Login</a>
            </div>

            <div id="message" class="msg" role="status" aria-live="polite"></div>
        </form>
    </main>

    <footer style="padding:1rem;text-align:center;color:#666;border-top:1px solid #eee">
        <small>© Zenya PSMS — <a href="index.html">Home</a></small>
    </footer>

    <script>
        (function () {
            const form = document.getElementById('signupForm');
            const msg = document.getElementById('message');
            const submitBtn = document.getElementById('submitBtn');

            function showMessage(text, type = 'success') {
                msg.textContent = text;
                msg.className = 'msg ' + (type === 'success' ? 'success' : 'error');
                msg.style.display = 'block';
            }

            function validatePasswords(pw, confirm) {
                return pw === confirm;
            }

            form.addEventListener('submit', (e) => {
                e.preventDefault();

                // simple client-side validation
                const name = form.name.value.trim();
                const email = form.email.value.trim();
                const plate = form.plate.value.trim();
                const phone = form.phone.value.trim();
                const password = form.password.value;
                const confirmPassword = form.confirmPassword.value;

                if (!name || !email || !plate || !phone || !password || !confirmPassword) {
                    showMessage('Please complete all required fields.', 'error');
                    return;
                }

                if (!validatePasswords(password, confirmPassword)) {
                    showMessage('Passwords do not match.', 'error');
                    return;
                }

                // disable button to avoid duplicate submits
                submitBtn.disabled = true;
                submitBtn.textContent = 'Signing up…';

                // Demo: simulate server call and then redirect to login page.
                // Replace with real API call when wiring to backend.
                setTimeout(() => {
                    showMessage('Account created successfully. Redirecting to login…', 'success');

                    // optionally persist to localStorage for demo purposes (remove for production)
                    try {
                        const users = JSON.parse(localStorage.getItem('psms_users') || '[]');
                        users.push({ name, email, plate, phone, password });
                        localStorage.setItem('psms_users', JSON.stringify(users));
                    } catch (err) { /* ignore storage errors */ }

                    setTimeout(() => {
                        window.location.href = 'login.html';
                    }, 900);
                }, 700);
            });
        })();
    </script>
</body>

</html>